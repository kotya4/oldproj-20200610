# [![](http://kotya.tk/favicon.ico)](http://kotya.tk) rc3

---

Третья версия 2d raycasting. Карта разбивается на квадраты определенного (единичного) размера -- растризуется. На полученном растре "рисуются" 4-connected линии -- каждый квадрат хранит ссылки на все линии, лежащие в нем и/или пересекающие его. Пущенный из камеры луч [итерирует по квадратам](https://dev.opera.com/articles/3d-games-with-canvas-and-raycasting-part-1/). Встретив непустой квадрат (хотя бы с одной ссылкой), луч проверяет пересечение со всеми линиями этого квадрата. Пересеченные линии запоминаются и сортируются в соответствии с дистанцией до камеры. Если была найдена хотя бы одна НЕПРОЗРАЧНАЯ линия, луч прекращает свое путешествие по растру.

---

- (+) отрисовка прямых отрезков
- (+) растризация (статическая дискретизация)
- (-) текстуры
- (-) редактор карты (realtime edit/save)
- (-) отрисовка кривых безье
